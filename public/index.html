<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Hello, Clerk!</title>
	</head>
	<body>
		<h1 id="heading">Hello, Clerk!</h1>
		<p>This page comes from a static asset as configured in `wrangler.jsonc` (2).</p>

		<div id="app"></div>

		<button onclick="fetch('./api').then(r => { console.log(r); r.text().then(console.log, console.error) }, console.error)">fetch</button>
		<script
				async
				crossorigin="anonymous"
				data-clerk-publishable-key="pk_test_cm9idXN0LW1hbnRpcy02OS5jbGVyay5hY2NvdW50cy5kZXYk"
				src="https://robust-mantis-69.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js"
				type="text/javascript">
		</script>

		<script>
			window.addEventListener('load', async function () {
				await Clerk.load()
				console.log('ClerkJS is loaded', Clerk)

				if (Clerk.user) {
					document.getElementById('app').innerHTML = `<div id="user-button"></div>`

					const userButtonDiv = document.getElementById('user-button')

					Clerk.mountUserButton(userButtonDiv)
				} else {
					document.getElementById('app').innerHTML = `<div id="sign-in"></div>`

					const signInDiv = document.getElementById('sign-in')

					Clerk.mountSignIn(signInDiv)
				}
			})
		</script>
	</body>
</html>
